@page "/Info/{id:int}"
@inject DatabaseContext DbContext

<h3>Info</h3>

@if (pokemon is not null)
{
    <p>@pokemon?.Name</p>
}
else
{
    <p>No pokemon found for that Id</p>
}
<div class="progress progress-lg" style="height: 30px">
    <div class="progress-bar bg-primary" role="progressbar" aria-label="Success example" aria-valuenow="@pokemon?.HP" style="width = (@pokemon?.HP*100/255)"  aria-valuemin="0" aria-valuemax="255"></div>
</div>

<div class="progress" role="progressbar" aria-label="Success example" aria-valuenow="@pokemon?.Attack" style="width = (@pokemon?.Attack*100/255)" aria-valuemin="0" aria-valuemax="255"></div>

<div class="progress" role="progressbar" aria-label="Success example" aria-valuenow="@pokemon?.Defence" style="width = (@pokemon?.Defence*100/255)" aria-valuemin="0" aria-valuemax="255"></div

<div class="progress" role="progressbar" aria-label="Success example" aria-valuenow="@pokemon?.Speed" style="width = (@pokemon?.Speed*100/255)"  aria-valuemin="0" aria-valuemax="255"></div>
@code 
{
    [Parameter]
    public int Id { get; set; }

    private Pokemon? pokemon;

    protected override void OnInitialized()
    {
        pokemon = DbContext.Pokemons.SingleOrDefault(p => p.Id == Id);
    }
}
